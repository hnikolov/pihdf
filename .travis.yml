sudo: true

language: python
python:
  - "2.7"
  
addons:
  apt:
    packages:
    - iverilog

# command to install dependencies
install:
  - pip install myhdl simplejson coverage nose

  # myhdl_lib
  - git clone https://github.com/nkavaldj/myhdl_lib.git
  - cd myhdl_lib
  - python setup.py install
  - cd ..

  # To make use of the command-line tool 'module'
  - python setup.py develop

  # Create the myhdl.vpi file
  - git clone https://github.com/jandecaluwe/myhdl
  - make -C myhdl/cosimulation/icarus
  - sudo mkdir /.pihdf
  - sudo cp myhdl/cosimulation/icarus/myhdl.vpi /.pihdf

# command to run tests
script: 
#  - nosetests -vsx -w test -i "test"
  - module test/ test recursive

notifications:
  email: false

